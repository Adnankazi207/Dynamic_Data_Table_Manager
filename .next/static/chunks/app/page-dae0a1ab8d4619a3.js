(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6224:function(e,l,n){Promise.resolve().then(n.bind(n,3023))},3023:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return el}});var i=n(7437),r=n(2265),t=n(5122),s=n(9969),a=n(1504),o=n(4763),d=n(2505),c=n(8543),u=n(4247),m=n(3985),h=n(6825),x=n(9966),v=n(5386),p=n(4147),f=n(8575);let j=()=>(0,f.I0)(),y=f.v9;var g=n(5924),Z=n(8654),b=n(2995),k=n(8045),w=n(6838),C=n(6116),S=n(6382),R=n(3045),E=n(6875),N=n(5545),z=n(3484),I=n(599),W=n(1617),A=n(4589),q=n(4294),D=n(1442),M=n(4682);function V(e){let{page:l,setPage:n,pageCount:r}=e;return(0,i.jsx)("div",{children:(0,i.jsxs)(q.Z,{variant:"outlined",size:"small",children:[(0,i.jsx)(N.Z,{onClick:()=>n(Math.max(0,l-1)),disabled:0===l,children:(0,i.jsx)(D.Z,{})}),(0,i.jsxs)(d.Z,{disabled:!0,children:[l+1," / ",Math.max(1,r)]}),(0,i.jsx)(N.Z,{onClick:()=>n(Math.min(r-1,l+1)),disabled:l>=r-1,children:(0,i.jsx)(M.Z,{})})]})})}function Q(){let e=j(),l=y(e=>e.table.rows),n=y(e=>e.table.columns),a=y(e=>e.table.sort),o=y(e=>e.table.searchQuery),d=y(e=>e.table.editingRowIds),[u,m]=(0,r.useState)(0),[h,v]=(0,r.useState)({}),p=(0,t.Z)(),f=(0,s.Z)(p.breakpoints.down("sm")),q=n.filter(e=>e.visible),D=(0,r.useMemo)(()=>{let e=[...l];if(o){let l=o.toLowerCase();e=e.filter(e=>q.some(n=>{var i;return String(null!==(i=e[n.key])&&void 0!==i?i:"").toLowerCase().includes(l)}))}return a.key&&e.sort((e,l)=>{var n,i,r;return n=e[a.key],i=l[a.key],r=a.direction,(null==n&&(n=""),null==i&&(i=""),isNaN(Number(n))||isNaN(Number(i))||(n=Number(n),i=Number(i)),n<i)?"asc"===r?-1:1:n>i?"asc"===r?1:-1:0}),e},[l,o,a,q]),M=Math.ceil(D.length/10),Q=D.slice(10*u,(u+1)*10);return(0,i.jsxs)(Z.Z,{sx:{p:f?1:2,width:"100%",overflow:"hidden",borderRadius:2,boxShadow:2},children:[(0,i.jsx)(b.Z,{sx:{overflowX:"auto",maxHeight:f?500:"none"},children:(0,i.jsxs)(k.Z,{stickyHeader:!0,size:f?"small":"medium",sx:{minWidth:600,whiteSpace:"nowrap"},children:[(0,i.jsx)(w.Z,{children:(0,i.jsxs)(C.Z,{children:[q.map(l=>{var n;return(0,i.jsx)(S.Z,{sx:{fontWeight:600},children:l.sortable?(0,i.jsx)(R.Z,{active:a.key===l.key,direction:null!==(n=a.direction)&&void 0!==n?n:"asc",onClick:()=>{var n;let i;return n=l.key,i="asc",void(a.key===n&&"asc"===a.direction&&(i="desc"),e((0,g.HD)({key:n,direction:i})))},children:l.label}):l.label},l.key)}),(0,i.jsx)(S.Z,{sx:{fontWeight:600},children:"Actions"})]})}),(0,i.jsx)(E.Z,{children:Q.map(n=>{let r=d.includes(n.id);return(0,i.jsxs)(C.Z,{hover:!0,children:[q.map(e=>{var l,t,s,a;return(0,i.jsx)(S.Z,{sx:{py:f?.5:1},children:r?(0,i.jsx)(x.Z,{size:"small",variant:"outlined",value:null!==(s=null!==(t=null===(l=h[n.id])||void 0===l?void 0:l[e.key])&&void 0!==t?t:n[e.key])&&void 0!==s?s:"",onChange:l=>{var i,r,t;return i=n.id,r=e.key,t=l.target.value,void v(e=>({...e,[i]:{...e[i]||{},[r]:t}}))},sx:{minWidth:f?80:120}}):(0,i.jsx)(c.Z,{component:"span",sx:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",maxWidth:f?90:150},children:String(null!==(a=n[e.key])&&void 0!==a?a:"")})},e.key)}),(0,i.jsx)(S.Z,{children:r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N.Z,{size:"small",onClick:()=>(function(l){let n=h[l]||{};e((0,g.RQ)({id:l,changes:n})),e((0,g.qX)(l)),v(e=>{let n={...e};return delete n[l],n})})(n.id),title:"Save",children:(0,i.jsx)(W.Z,{fontSize:"small"})}),(0,i.jsx)(N.Z,{size:"small",onClick:()=>{var l;return l=n.id,void(e((0,g.qX)(l)),v(e=>{let n={...e};return delete n[l],n}))},title:"Cancel",children:(0,i.jsx)(A.Z,{fontSize:"small"})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N.Z,{size:"small",onClick:()=>{var i;return i=n.id,void(e((0,g.NS)(i)),v(e=>({...e,[i]:{...l.find(e=>e.id===i)}})))},title:"Edit",children:(0,i.jsx)(z.Z,{fontSize:"small"})}),(0,i.jsx)(N.Z,{size:"small",onClick:()=>{var l;return l=n.id,void(confirm("Delete this row?")&&e((0,g.EE)(l)))},title:"Delete",children:(0,i.jsx)(I.Z,{fontSize:"small"})})]})})]},n.id)})})]})}),(0,i.jsxs)(c.Z,{sx:{mt:2,display:"flex",flexDirection:f?"column":"row",justifyContent:"space-between",alignItems:f?"stretch":"center",gap:f?1:0},children:[(0,i.jsxs)(c.Z,{sx:{fontSize:"0.85rem",color:"text.secondary",textAlign:f?"center":"left"},children:["Showing ",D.length," results"]}),(0,i.jsx)(V,{page:u,setPage:m,pageCount:M})]})]})}var P=n(7792),_=n(3977),F=n(7046);function H(){let e=j(),l=y(e=>e.table.searchQuery);return(0,i.jsx)(x.Z,{value:l,placeholder:"Search all fields...",size:"small",onChange:l=>e((0,g.ql)(l.target.value)),InputProps:{startAdornment:(0,i.jsx)(P.Z,{position:"start",children:(0,i.jsx)(_.Z,{})}),endAdornment:l?(0,i.jsx)(P.Z,{position:"end",children:(0,i.jsx)(N.Z,{onClick:()=>e((0,g.ql)("")),size:"small",children:(0,i.jsx)(F.Z,{})})}):null}})}var X=n(4190),O=n(5338),L=n(2429),B=n(3821),T=n(5452),G=n.n(T),J=n(12);function K(){let e=(0,r.useRef)(null),l=j(),n=y(e=>e.table.rows),t=y(e=>e.table.columns),[s,a]=(0,r.useState)({open:!1,message:"",severity:"success"}),o=()=>a({...s,open:!1});async function c(n){var i,r;let t=null==n?void 0:null===(r=n.target)||void 0===r?void 0:null===(i=r.files)||void 0===i?void 0:i[0];if(t)try{let e=(await new Promise((e,l)=>{G().parse(t,{header:!0,skipEmptyLines:!0,complete:n=>{n.errors&&n.errors.length?l(n.errors):e(n.data.map(e=>{var l;return{id:null!==(l=e.id)&&void 0!==l?l:void 0,...e}}))},error:e=>l(e)})})).map(e=>{var l;return{id:null!==(l=e.id)&&void 0!==l?l:(0,p.Z)(),...e}});l((0,g.Ee)(e)),a({open:!0,message:"✅ CSV imported successfully!",severity:"success"})}catch(e){console.error("CSV parse error",e),a({open:!0,message:"❌ Error parsing CSV. Please check your file format.",severity:"error"})}finally{e.current&&(e.current.value="")}}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,i.jsx)("input",{ref:e,type:"file",accept:".csv",style:{display:"none"},onChange:c}),(0,i.jsx)(d.Z,{variant:"outlined",startIcon:(0,i.jsx)(L.Z,{}),onClick:()=>{var l;return null===(l=e.current)||void 0===l?void 0:l.click()},children:"Import CSV"}),(0,i.jsx)(d.Z,{variant:"outlined",startIcon:(0,i.jsx)(B.Z,{}),onClick:function(){try{!function(e,l){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"table-export.csv",i=l.filter(e=>e.visible);i.map(e=>e.label);let r=e.map(e=>i.map(l=>{var n;return null!==(n=e[l.key])&&void 0!==n?n:""})),t=new Blob([G().unparse({fields:i.map(e=>e.key),data:r})],{type:"text/csv;charset=utf-8;"});(0,J.saveAs)(t,n)}(n,t),a({open:!0,message:"\uD83D\uDCC1 CSV exported successfully!",severity:"success"})}catch(e){console.error("Export error",e),a({open:!0,message:"❌ Failed to export CSV.",severity:"error"})}},children:"Export CSV"})]}),(0,i.jsx)(X.Z,{open:s.open,autoHideDuration:3e3,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,i.jsx)(O.Z,{onClose:o,severity:s.severity,variant:"filled",sx:{width:"100%"},children:s.message})})]})}var U=n(5716),Y=n(6136),$=n(9501);function ee(){let[e,l]=(0,r.useState)(!1),n=y(e=>e.table.columns),t=j(),{register:s,handleSubmit:a,reset:o}=(0,$.cI)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{variant:"outlined",onClick:()=>l(!0),children:"Manage Columns"}),(0,i.jsxs)(u.Z,{open:e,onClose:()=>l(!1),fullWidth:!0,children:[(0,i.jsx)(m.Z,{children:"Manage Columns"}),(0,i.jsxs)(h.Z,{children:[n.map(e=>(0,i.jsx)(U.Z,{control:(0,i.jsx)(Y.Z,{checked:e.visible,onChange:l=>{var n,i;return n=e.key,i=l.target.checked,void t((0,g.mw)({key:n,visible:i}))}}),label:"".concat(e.label," (").concat(e.key,")")},e.key)),(0,i.jsxs)(c.Z,{component:"form",onSubmit:a(function(e){let l=e.key.trim();if(!l)return;let n={key:l,label:e.label||e.key,visible:!0,sortable:!0};t((0,g.Wf)(n)),o()}),sx:{mt:2,display:"flex",gap:1},children:[(0,i.jsx)(x.Z,{...s("key",{required:!0}),size:"small",placeholder:"field key (eg: department)"}),(0,i.jsx)(x.Z,{...s("label"),size:"small",placeholder:"label (eg: Department)"}),(0,i.jsx)(d.Z,{type:"submit",variant:"contained",children:"Add"})]})]}),(0,i.jsx)(v.Z,{children:(0,i.jsx)(d.Z,{onClick:()=>l(!1),children:"Close"})})]})]})}function el(){var e,l;let n=j(),f=(0,t.Z)(),y=(0,s.Z)(f.breakpoints.down("sm")),[Z,b]=(0,r.useState)(!1),[k,w]=(0,r.useState)({name:"",email:"",age:null,role:""});return(0,i.jsxs)(a.Z,{maxWidth:"lg",sx:{py:3},children:[(0,i.jsx)(o.Z,{direction:y?"column":"row",spacing:y?1.5:2,alignItems:y?"stretch":"center",justifyContent:"space-between",mb:3,children:(0,i.jsxs)(o.Z,{direction:y?"column":"row",spacing:y?1.5:2,alignItems:y?"stretch":"center",flexWrap:"wrap",width:"100%",children:[(0,i.jsx)(H,{}),(0,i.jsx)(d.Z,{variant:"outlined",onClick:()=>b(!0),fullWidth:y,children:"+ Add Row"}),(0,i.jsx)(K,{}),(0,i.jsx)(ee,{})]})}),(0,i.jsx)(c.Z,{sx:{overflowX:"auto",borderRadius:2,border:"1px solid #e0e0e0",p:1},children:(0,i.jsx)(Q,{})}),(0,i.jsxs)(u.Z,{open:Z,onClose:()=>b(!1),fullWidth:!0,maxWidth:y?"xs":"sm",children:[(0,i.jsx)(m.Z,{children:"Add New Row"}),(0,i.jsx)(h.Z,{children:(0,i.jsxs)(o.Z,{spacing:2,sx:{mt:2},children:[(0,i.jsx)(x.Z,{label:"Name",value:k.name,onChange:e=>w({...k,name:e.target.value}),fullWidth:!0,required:!0}),(0,i.jsx)(x.Z,{label:"Email",value:k.email,onChange:e=>w({...k,email:e.target.value}),fullWidth:!0,required:!0}),(0,i.jsx)(x.Z,{label:"Age",type:"number",value:null!==(e=k.age)&&void 0!==e?e:"",onChange:e=>w({...k,age:e.target.value?Number(e.target.value):null}),fullWidth:!0}),(0,i.jsx)(x.Z,{label:"Role",value:null!==(l=k.role)&&void 0!==l?l:"",onChange:e=>w({...k,role:e.target.value}),fullWidth:!0})]})}),(0,i.jsxs)(v.Z,{children:[(0,i.jsx)(d.Z,{onClick:()=>b(!1),children:"Cancel"}),(0,i.jsx)(d.Z,{variant:"contained",onClick:()=>{if(!k.name||!k.email){alert("Name and Email are required!");return}let e={id:(0,p.Z)(),name:k.name,email:k.email,age:k.age?Number(k.age):null,role:k.role||""};n((0,g.SA)(e)),w({name:"",email:"",age:null,role:""}),b(!1)},children:"Add"})]})]})]})}},5924:function(e,l,n){"use strict";n.d(l,{EE:function(){return c},Ee:function(){return y},HD:function(){return x},NS:function(){return p},RQ:function(){return d},SA:function(){return o},Wf:function(){return h},mw:function(){return m},qX:function(){return f},ql:function(){return v}});var i=n(301),r=n(4147);let t={rows:[{id:(0,r.Z)(),name:"Alice",email:"alice@example.com",age:28,role:"Student"},{id:(0,r.Z)(),name:"Bob",email:"bob@example.com",age:32,role:"Teacher"}],columns:[{key:"name",label:"Name",visible:!0,sortable:!0},{key:"email",label:"Email",visible:!0,sortable:!0},{key:"age",label:"Age",visible:!0,sortable:!0},{key:"role",label:"Role",visible:!0,sortable:!0}],sort:{key:null,direction:null},searchQuery:"",editingRowIds:[]},s=(0,i.oM)({name:"table",initialState:t,reducers:{setRows(e,l){e.rows=l.payload},addRow(e,l){e.rows.unshift(l.payload)},updateRow(e,l){let n=e.rows.findIndex(e=>e.id===l.payload.id);n>=0&&(e.rows[n]={...e.rows[n],...l.payload.changes})},deleteRow(e,l){e.rows=e.rows.filter(e=>e.id!==l.payload)},setColumns(e,l){e.columns=l.payload},toggleColumnVisibility(e,l){let n=e.columns.find(e=>e.key===l.payload.key);n&&(n.visible=l.payload.visible)},addColumn(e,l){e.columns.push(l.payload)},setSort(e,l){e.sort=l.payload},setSearchQuery(e,l){e.searchQuery=l.payload},startEditingRow(e,l){e.editingRowIds.includes(l.payload)||e.editingRowIds.push(l.payload)},stopEditingRow(e,l){e.editingRowIds=e.editingRowIds.filter(e=>e!==l.payload)},clearAllEdits(e){e.editingRowIds=[]},replaceAllRows(e,l){e.rows=l.payload}}}),{setRows:a,addRow:o,updateRow:d,deleteRow:c,setColumns:u,toggleColumnVisibility:m,addColumn:h,setSort:x,setSearchQuery:v,startEditingRow:p,stopEditingRow:f,clearAllEdits:j,replaceAllRows:y}=s.actions;l.ZP=s.reducer}},function(e){e.O(0,[474,975,971,117,744],function(){return e(e.s=6224)}),_N_E=e.O()}]);